#+Title: devcc++ notes

* Autotools [fn:emacs-autotools]
  Se vc vir alguns arquivos do tipo configure, configure.ac,
  Makefile.in, Makefile.am, aclocal.m4,... eles devem ter sido criado
  pelo autotools.
  O processo de ajustes necessários ao Makefile pra cada diferente
  ambiente de compilação e execução gerou a necessidade de um script
  ./configure que gerava o Makefile ajustado e então depois vinha o
  make e depois o make install. Esse processo foi padronizado no GNU
  por isso pode ser chamado de GNU Build System e gerou essa ferrameta
  chamada autotools.[fn:AutotoolsIntroduction]

* Por que usar autotools?[fn:Duret-Lutz-slides]
  Uniformizar o build
  Portabilidade

* basicao do build
** ./configure
*** ./configure e a detecção de settings do ambiente
    ./configure testa se o ambiente de build contem as funções, pacotes
    e bibliotecas necessárias para o build
    O ./configure detecta várias configurações pré-existentes do
    ambiente relevantes para o build, mas dá pra forçar alguma
    configuração diferente também. Consultar ./configure --help
    Alguns exemplos interessantes que podem ser modificados em relação
    ao que estiver pré existentes no ambiente são:
    #+BEGIN_SRC example[fn:Duret-Lutz-slides]
    CC       comando de compilação (do compilador C)
    CFLAGS   flags do comando de compilação (do compilador C)
    CXX      comando de compilação (do compilador C++)
    CXXFLAGS flags do comando de compilação (do compilador C++)
    LDFLAGS  linker flags
    CPPFLAGS  C/C++ preprocessor flags
    #+END_SRC
*** ./configure e a criação de arquivos     
    O ./configure cria 
    + o arquivo config.h que contém todos os #defines 
    + arquivos Makefiles para o build do projeto
    
      
    Arquivos de objetos
    bibliotecas
    
    Lembrando que você pode também usar templates de configuração como
    recurso para o ./configure 
    Arquivos *.in são templates de configuração
    Makefile.in 
    src/Makefile.in
    config.h.in
    
    [[file:imgs/autotools-configure-template-files.png]][fn:Duret-Lutz-slides]
    [[file:imgs/autotools-configure-template-files2.png]][fn:Duret-Lutz-slides]
    [[file:imgs/autotools-configure-template-files3.png]][fn:Duret-Lutz-slides]


* Footnotes
[fn:emacs-autotools] https://www.gnu.org/software/automake/manual/html_node/Autotools-Introduction.html
[fn:Duret-Lutz-slides] https://www.lrde.epita.fr/~adl/dl/autotools.pdf
[fn:AutotoolsIntroduction] https://www.gnu.org/software/automake/manual/html_node/GNU-Build-System.html#GNU-Build-System
